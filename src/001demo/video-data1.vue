<template>  <div class="wrap">    <video class="video" muted autoplay controls ref="player"></video>  </div></template><script>import flvjs from 'flv.js' // 引入flvjsexport default {  data() {    return {      player: null    }  },  mounted() {    // 如果浏览器支持flvjs，则执行相应的程序    if (flvjs.isSupported()) {      // 准备监控设备流地址      const url = 'rtsp://admin:aa123456@192.168.1.64'      // 创建一个flvjs实例      // 下面的ws://localhost:8888换成你搭建的websocket服务地址，后面加上设备流地址      this.player = flvjs.createPlayer(        {          type: 'flv',          isLive: true,          url: `ws://localhost:8888/rtsp?url=${window.btoa(url)}`        },        {          enableStashBuffer: false, // 是否启用IO暂存缓冲区： 使用直播功能时，设置false可减少延迟，并减少网络不稳定时出现画面停顿的情况。          fixAudioTimestampGap: false, // 检测到音视频不同步时，是否填充无声音频：          isLive: true /// 是否为直播流：        }      )      this.player.on('error', (e) => {        console.log(e)      })      // 将实例挂载到video元素上面      this.player.attachMediaElement(this.$refs.player)      try {        // 开始运行加载 只要流地址正常 就可以在h5页面中播放出画面了        this.player.load()        this.player.play().then(() => {          this.loading = false        })      } catch (error) {        console.log(error)      }    }  },  beforeUnmount() {    // 页面销毁前 关闭flvjs    this.player.destroy()  }}</script><style lang="less" scoped>.wrap {  .video {    width: 100%;    height: 300px;  }}</style>